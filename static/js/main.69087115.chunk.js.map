{"version":3,"sources":["component/AppBar/logo.svg","component/AppBar/AppBar.js","component/ControlPanel/Filters.js","component/ControlPanel/Search.js","component/ControlPanel/BarCharts.js","component/ControlPanel/VirtualList.js","component/ControlPanel/AllPapers.js","component/ControlPanel/ControlPanel.js","store/Categories.js","component/Gallery/VisCatFilters.js","component/Gallery/Image.js","component/Gallery/Gallery.js","component/Stream/Stream.js","component/WordCloud/WordCloud.js","component/DetailView/VisType.js","component/DetailView/DetailView.js","component/App.js","store/SystemStatus.js","store/Data.js","store/APIv1.js","store/index.js","index.js"],"names":["module","exports","useStyles","makeStyles","theme","root","position","width","height","left","top","borderBottomRightRadius","spacing","backgroundColor","palette","primary","dark","display","alignItems","logo","margin","title","fontSize","color","secondary","contrastText","observer","classes","className","alt","src","Typography","flex","autocomplete","marginTop","icon","CheckBoxOutlineBlank","checkedIcon","CheckBox","inject","value","d","useState","val","setVal","allFilters","Autocomplete","multiple","size","options","filterOptions","filter","option","toLowerCase","includes","_","i","onChange","e","newValue","updateFilter","disableCloseOnSelect","renderOption","selected","Fragment","Checkbox","style","marginRight","checked","renderInput","params","TextField","variant","label","target","search","borderRadius","shape","fade","common","white","searchIcon","padding","pointerEvents","justifyContent","inputRoot","inputInput","paddingLeft","InputBase","placeholder","input","onKeyPress","key","bars","animation","brush","xAxisIndex","brushLink","outOfBrush","colorAlpha","toolbox","feature","type","lineX","clear","legend","data","xAxis","map","bar","year","axisLabel","yAxis","tooltip","grid","bottom","textStyle","series","name","stack","papers","images","onEvents","brushEnd","yearRange","areas","coordRange","brushselected","batch","length","overflow","cache","CellMeasurerCache","defaultHeight","fixedWidth","children","useTheme","rowCount","rowHeight","deferredMeasurementCache","rowRenderer","index","parent","list","rowIndex","columnIndex","measure","registerChild","ref","CellRenderer","paddingRight","transform","outline","cnt","paperItem","PaperItem","paper","onLoad","useEffect","filteredPapers","p","background","flexDirection","ColorStyles","TextTranslate","ReverseTextTranslate","Object","keys","forEach","selectAll","minWidth","maxWidth","chip","allCategories","filteredFilters","moreCnt","optionalValue","push","filterCategories","indeterminate","updateFilterCategories","limitTags","t","img","state","setState","imgSrc","setSrc","controller","AbortController","signal","fetch","then","res","blob","URL","createObjectURL","catch","toString","abort","CircularProgress","right","gridList","titleBar","actions","zIndex","marginBottom","stat","pagination","sys","page","setPage","showedImages","Pagination","count","Math","ceil","newPage","GridList","cellHeight","cols","slice","getPaperInfo","pid","GridListTile","iid","rows","cursor","onClick","showDetail","GridListTileBar","titlePosition","actionPosition","stream","min","max","categories","sort","a","b","indexOf","ai","bi","calCat","Set","add","animationDuration","trigger","axisPointer","lineStyle","formatter","cat","singleAxis","show","emphasis","itemStyle","shadowBlur","shadowColor","colors","enableTooltip","deterministic","fontFamily","fontSizes","fontStyle","fontWeight","rotations","rotationAngles","scale","spiral","transitionDuration","words","showedWords","nested","visType","boxes","setVisible","React","open","setOpen","reduce","previousValue","currentValue","visibility","ListItem","ListItemIcon","edge","tabIndex","box","disableRipple","ListItemText","IconButton","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","List","component","disablePadding","bid","idx","titlebar","row","imgView","recs","rec","details","caption","detailedImg","url","getImageInfo","dimensions","imgSize","handleChange","indexes","hasOwnProperty","Dialog","detailView","onClose","closeDetail","DialogContent","Button","href","window","innerWidth","maxHeight","innerHeight","naturalHeight","naturalWidth","main","App","CssBaseline","SystemStatus","observable","shallow","scrollbar","this","createMuiTheme","themeOption","overrides","MuiCssBaseline","lighten","darken","computed","action","updateBBoxes","apiV1","getBBox","bboxes","Data","initPapers","cb","getPapers","updatePapers","extractFilters","Function","paperYear","certainPapers","allConferences","allAuthors","allYears","yearCount","conference","authors","aut","initImages","pids","getImages","captionStat","word_count","undefined","updateImageCounts","updateWords","image","wordFrequencies","word","text","filterConferences","filterYears","filterAuthors","flag","author","minYear","maxYear","Array","isFiltered","split","JSON","parse","stringify","filters","uri","APIv1","args","join","req","Request","method","body","json","console","error","store","init","ReactDOM","render","visImages","document","querySelector"],"mappings":"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","file":"static/js/main.69087115.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.62a8d7ca.svg\";","import React from 'react';\nimport {makeStyles} from \"@material-ui/core\";\nimport {observer} from \"mobx-react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport logo from './logo.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'absolute',\n        width: '20vw',\n        height: '5vh',\n        left: 0,\n        top: 0,\n        borderBottomRightRadius: theme.spacing(0.5),\n        backgroundColor: theme.palette.primary.dark,\n\n        display: 'flex',\n        alignItems: 'center',\n    },\n    logo: {\n        margin: theme.spacing(2, 5),\n        height: '3vh',\n    },\n    title: {\n        fontSize: '2vh',\n        color: theme.palette.secondary.contrastText,\n    }\n}));\n\nfunction AppBar() {\n    const classes = useStyles();\n\n    return <div className={classes.root}>\n        <img className={classes.logo}\n             alt={'logo'} src={logo}/>\n        <Typography className={classes.title}>VisImages</Typography>\n    </div>\n}\n\nexport default observer(AppBar);\n","import React, {useState} from 'react';\nimport {makeStyles, Checkbox, TextField} from \"@material-ui/core\";\nimport {CheckBoxOutlineBlank, CheckBox} from '@material-ui/icons';\nimport {Autocomplete} from \"@material-ui/lab\";\nimport {inject, observer} from \"mobx-react\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: theme.spacing(1, 1, 1),\n        flex: '0 0 fit-content'\n    },\n    autocomplete: {\n        marginTop: theme.spacing(1),\n    }\n}));\n\nconst icon = <CheckBoxOutlineBlank fontSize=\"small\"/>;\nconst checkedIcon = <CheckBox fontSize=\"small\"/>;\n\nfunction Filters({title, value, d}) {\n    const classes = useStyles();\n    const [val, setVal] = useState('');\n\n    const allFilters = d[`all${value}`];\n\n\n    return <div className={classes.root}>\n        <Autocomplete\n          className={classes.autocomplete}\n          multiple\n          size={'small'}\n          options={allFilters}\n          filterOptions={options => options\n            .filter(option => option.toLowerCase().includes(val.toLowerCase()))\n            .filter((_, i) => i < 20)}\n          onChange={(e, newValue) => {\n              d.updateFilter(value, newValue)\n          }}\n          disableCloseOnSelect\n          renderOption={(option, {selected}) => (\n            <React.Fragment>\n                <Checkbox\n                  icon={icon}\n                  checkedIcon={checkedIcon}\n                  style={{marginRight: 8}}\n                  checked={selected}\n                />\n                {option}\n            </React.Fragment>\n          )}\n          renderInput={(params) => (\n            <TextField {...params} variant=\"outlined\" label={title} onChange={(e) => setVal(e.target.value)}/>\n          )}\n        />\n    </div>\n}\n\nexport default inject('d')(observer(Filters));\n","import React from 'react';\nimport {makeStyles, InputBase, fade} from \"@material-ui/core\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport {inject, observer} from \"mobx-react\";\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        position: 'relative',\n        flex: '0 0 fit-content',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        margin: theme.spacing(1),\n        width: '100%',\n    },\n    searchIcon: {\n        padding: theme.spacing(0, 2, 0, 0),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n        width: `calc(100% - ${theme.spacing(2)}px)`,\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 0),\n        paddingLeft: `calc(1em + ${theme.spacing(2)}px)`,\n        width: '100%',\n    },\n}));\n\nfunction Search({d}) {\n    const classes = useStyles();\n\n    return <div className={classes.search}>\n        <div className={classes.searchIcon}>\n            <SearchIcon/>\n        </div>\n        <InputBase\n          placeholder=\"Search…\"\n          classes={{\n              root: classes.inputRoot,\n              input: classes.inputInput,\n          }}\n          onKeyPress={e => {\n              if (e.key === 'Enter') d.updateFilter('search', e.target.value);\n          }}\n        />\n    </div>\n}\n\nexport default inject('d')(observer(Search));\n","import React from 'react';\nimport {makeStyles} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport ReactEcharts from \"echarts-for-react\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: '0 0 300px',\n        padding: theme.spacing(1),\n    },\n}));\n\nfunction BarCharts({d}) {\n    const classes = useStyles();\n    const bars = d.bars;\n\n    const getOption = () => {\n        return {\n            animation: false,\n            brush: {\n                xAxisIndex: 'all',\n                brushLink: 'all',\n                outOfBrush: {\n                    colorAlpha: 0.1\n                }\n            },\n            toolbox: {\n                feature: {\n                    brush: {\n                        type: ['lineX', 'clear'],\n                        title: {\n                            lineX: 'Select Years',\n                            clear: 'Clear Selection',\n                        }\n                    }\n                }\n            },\n            legend: {\n                data: ['papers', 'images'],\n                left: 10,\n            },\n            color: ['#e94b4a', '#1f5886'],\n            xAxis: [\n                {\n                    type: 'category',\n                    data: bars.map(bar => bar.year),\n                    axisLabel: {\n                        fontSize: 14,\n                    },\n                }\n            ],\n            yAxis: [\n                {\n                    type: 'value',\n                    axisLabel: {\n                        fontSize: 14,\n                    },\n                }\n            ],\n            tooltip: {},\n            grid: [\n                {\n                    left: 50,\n                    bottom: 30,\n                }\n            ],\n            textStyle: {\n                fontSize: 16,\n            },\n            series: [\n                {\n                    name: 'papers',\n                    type: 'bar',\n                    stack: 'stat',\n                    data: bars.map(bar => bar.papers),\n                },\n                {\n                    name: 'images',\n                    type: 'bar',\n                    stack: 'stat',\n                    data: bars.map(bar => bar.images),\n                },\n            ]\n        }\n    };\n\n    return <div className={classes.root}>\n        <ReactEcharts option={getOption()}\n                      onEvents={{\n                          brushEnd: ({areas}) => {\n                              const brushRange = areas[0].coordRange;\n                              const yearRange = brushRange.map(val => val + bars[0].year);\n                              d.updateFilter('Years', yearRange);\n                          },\n                          brushselected: ({batch}) => {\n                              const {areas} = batch[0];\n                              if (areas.length !== 0) return;\n                              d.updateFilter('Years', []);\n                          }\n                      }}/>\n    </div>\n}\n\nexport default inject('d')(observer(BarCharts));\n","import React from 'react';\nimport {makeStyles, useTheme} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport {AutoSizer, List, CellMeasurer, CellMeasurerCache} from \"react-virtualized\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n}));\n\nconst cache = new CellMeasurerCache({defaultHeight: 100, fixedWidth: true});\n\nfunction CellRenderer({index, key, parent, style, list}) {\n    return <CellMeasurer key={key} rowIndex={index} columnIndex={0} cache={cache} parent={parent}>\n        {({measure, registerChild}) => <div ref={registerChild} style={style}>\n            {list[index](measure)}\n        </div>}\n    </CellMeasurer>\n}\n\n\nfunction VirtualList({children}) {\n    const classes = useStyles();\n    const theme = useTheme();\n\n    return <div className={classes.root}>\n        <AutoSizer>\n            {({height, width}) => (\n              <List\n                height={height}\n                rowCount={children.length}\n                rowHeight={cache.rowHeight}\n                deferredMeasurementCache={cache}\n                rowRenderer={({index, key, parent, style}) => CellRenderer({index, key, parent, style, list: children})}\n                width={width}\n                style={{\n                    paddingRight: theme.spacing(0),\n                    transform: `translateX(${theme.spacing(0)}px)`,\n                    outline: 'none',\n                }}\n              />\n            )}\n        </AutoSizer>\n    </div>\n}\n\nexport default inject()(observer(VirtualList));\n","import React, {useEffect} from 'react';\nimport {makeStyles, Typography} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport VirtualList from \"./VirtualList\";\n\nconst useStyles = makeStyles(theme => ({\n    cnt: {\n        margin: theme.spacing(1),\n        flex: '0 0 fit-content',\n    },\n    list: {\n        margin: theme.spacing(0, 1, 1, 1),\n        flex: 1,\n        overflow: 'hidden',\n    },\n    paperItem: {\n        margin: theme.spacing(1, 0)\n    }\n}));\n\nfunction PaperItem({paper, onLoad}) {\n    useEffect(() => {\n        onLoad();\n    }, [paper.title, onLoad]);\n\n    return <li>{paper.title}</li>\n}\n\nfunction AllPapers({d}) {\n    const classes = useStyles();\n    const papers = d.filteredPapers;\n\n    return <React.Fragment>\n        <Typography className={classes.cnt}>{papers.length} paper{papers.length !== 1 && 's'} found.</Typography>\n        <div className={classes.list}>\n            <VirtualList>\n                {papers.map(p => measure => <PaperItem paper={p} onLoad={measure}/>)}\n            </VirtualList>\n        </div>\n    </React.Fragment>\n}\n\nexport default inject('d')(observer(AllPapers));\n","import React from 'react';\nimport {makeStyles} from \"@material-ui/core\";\nimport {observer} from \"mobx-react\";\nimport Filters from \"./Filters\";\nimport Search from \"./Search\";\nimport BarCharts from \"./BarCharts\";\nimport AllPapers from \"./AllPapers\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'absolute',\n        left: 0,\n        width: `20vw`,\n        top: `calc(5vh + ${theme.spacing(1)}px)`,\n        bottom: theme.spacing(1),\n        borderRadius: `0 ${theme.shape.borderRadius}px ${theme.shape.borderRadius}px 0`,\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\nfunction ControlPanel() {\n    const classes = useStyles();\n\n    return <div className={classes.root}>\n        <Search/>\n        <BarCharts/>\n        <Filters title={'Conference'} value={'Conferences'}/>\n        <Filters title={'Authors'} value={'Authors'}/>\n        <AllPapers/>\n    </div>\n}\n\nexport default observer(ControlPanel);\n","// const ColorStyles = {\n//     'area_chart': \"#7C6693\",\n//     'proportional_area_chart': \"#634680\",\n//     'bar_chart': \"#4E2E6F\",\n//     'donut_chart': \"#38165B\",\n//     'pie_chart': \"#29074B\",\n//     'sector_chart': \"#D99F91\",\n//     'flow_diagram': \"#BE7261\",\n//     'chord_diagram': \"#A5503C\",\n//     'sankey_diagram': \"#872D18\",\n//     'box_plot': \"#6F1702\",\n//     'error_bar': \"#689C7D\",\n//     'stripe_graph': \"#458961\",\n//     'matrix': \"#2B7649\",\n//     'table': \"#116132\",\n//     'small_multiple': \"#015021\",\n//     'line_chart': \"#D9D591\",\n//     'storyline': \"#BEB861\",\n//     'polar_plot': \"#A59E3C\",\n//     'parallel_coordinate': \"#878018\",\n//     'map': \"#6F6902\",\n//     'scatterplot': \"#7C6693\",\n//     'heatmap': \"#634680\",\n//     'glyph_based': \"#4E2E6F\",\n//     'unit_visualization': \"#38165B\",\n//     'word_cloud': \"#29074B\",\n//     'graph': \"#D99F91\",\n//     'tree': \"#BE7261\",\n//     'treemap': \"#A5503C\",\n//     'hierarchical_edge_bundling': \"#872D18\",\n//     'sunburst_icicle': \"#6F1702\",\n//     'NoVis': 'black',\n// }\n\nconst ColorStyles = {\n    'tree': '#e8c7c7',\n    'graph': '#d8a3a3',\n    'treemap': '#c87e7e',\n    'hierarchical_edge_bundling': '#b85a5a',\n    'sunburst_icicle': '#a93636',\n    'line_chart': '#d8bea3',\n    'parallel_coordinate': '#c8a47e',\n    'polar_plot': '#b88a5a',\n    'storyline': '#a97036',\n    'flow_diagram': '#c8c87e',\n    'chord_diagram': '#b8b85a',\n    'sankey_diagram': '#a9a936',\n    'map': '#70a936',\n    'heatmap': '#7ec87e',\n    'unit_visualization': '#5ab85a',\n    'glyph_based': '#36a936',\n    'scatterplot': '#36a970',\n    'matrix': '#7ec8c8',\n    'table': '#5ab8b8',\n    'small_multiple': '#36a9a9',\n    'pie_chart': '#7ea4c8',\n    'sector_chart': '#5a8ab8',\n    'donut_chart': '#3670a9',\n    'error_bar': '#7e7ec8',\n    'box_plot': '#5a5ab8',\n    'stripe_graph': '#3636a9',\n    'bar_chart': '#7036a9',\n    'area_chart': '#b85ab8',\n    'proportional_area_chart': '#a936a9',\n    'word_cloud': '#a93670',\n    'NoVis': '#d3d3d3'\n}\n\n\nconst TextTranslate = {\n    'line_chart': 'line chart',\n    'scatterplot': 'scatterplot',\n    'tree': 'tree',\n    'heatmap': 'heatmap',\n    'treemap': 'treemap',\n    'graph': 'graph',\n    'map': 'map',\n    'bar_chart': 'bar chart',\n    'small_multiple': 'small multiple',\n    'matrix': 'matrix',\n    'flow_diagram': 'flow diagram',\n    'table': 'table',\n    'sunburst_icicle': 'sunburst icicle',\n    'parallel_coordinate': 'parallel coordinate',\n    'box_plot': 'box plot',\n    'error_bar': 'error bar',\n    'glyph_based': 'glyph based',\n    'area_chart': 'area chart',\n    'pie_chart': 'pie chart',\n    'sector_chart': 'sector chart',\n    'word_cloud': 'word cloud',\n    'proportional_area_chart':\n        'proportional area chart',\n    'unit_visualization': 'unit visualization',\n    'donut_chart': 'donut chart',\n    'sankey_diagram': 'sankey diagram',\n    'hierarchical_edge_bundling': 'hierarchical edge bundling',\n    'chord_diagram': 'chord diagram',\n    'stripe_graph': 'stripe graph',\n    'polar_plot': 'polar plot',\n    'storyline': 'storyline',\n    'NoVis': 'no visualization'\n}\n\nconst ReverseTextTranslate = {};\nObject.keys(TextTranslate).forEach(key => ReverseTextTranslate[TextTranslate[key]] = key);\n\nexport { ColorStyles, TextTranslate, ReverseTextTranslate };\n","import React, {useState} from 'react';\nimport {\n    makeStyles,\n    Typography,\n    Checkbox,\n    TextField\n} from \"@material-ui/core\";\nimport {TextTranslate, ReverseTextTranslate} from \"../../store/Categories\";\nimport {inject, observer} from \"mobx-react\";\nimport {Autocomplete} from \"@material-ui/lab\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    selectAll: {\n        padding: 0,\n    },\n    title: {\n        margin: theme.spacing(0, 1),\n    },\n    autocomplete: {\n        minWidth: '300px',\n        maxWidth: '40vw',\n    },\n    chip: {\n        margin: theme.spacing(0.5),\n    }\n}));\n\nfunction VisCatFilters({d}) {\n    const classes = useStyles();\n    const [val, setVal] = useState('');\n\n    const allFilters = d.allCategories;\n    const filteredFilters = [];\n    let moreCnt = 0;\n    for (const optionalValue of allFilters) {\n        if (optionalValue.includes(val)) {\n            filteredFilters.push(optionalValue);\n            moreCnt += 1;\n        }\n        if (moreCnt === 20) break;\n    }\n\n    return <div className={classes.root}>\n        <Checkbox\n          className={classes.selectAll}\n          checked={d.filterCategories.length === d.allCategories.length}\n          indeterminate={d.filterCategories.length > 0 && d.filterCategories.length < d.allCategories.length}\n          onChange={(e, checked) => {\n              d.updateFilterCategories(checked ? d.allCategories : []);\n          }}/>\n        <Typography className={classes.title}>Vis. Categories: </Typography>\n        <Autocomplete\n          className={classes.autocomplete}\n          multiple\n          size={'small'}\n          limitTags={3}\n          options={filteredFilters.map(t => TextTranslate[t])}\n          value={d.filterCategories.map(t => TextTranslate[t])}\n          onChange={(e, newValue) => {\n              d.updateFilterCategories(newValue.map(t => ReverseTextTranslate[t]))\n          }}\n          disableCloseOnSelect\n          renderOption={(option, {selected}) => (\n            <React.Fragment>\n                <Checkbox\n                  style={{marginRight: 8}}\n                  checked={selected}\n                />\n                {option}\n            </React.Fragment>\n          )}\n          renderInput={(params) => (\n            <TextField {...params} onChange={(e) => setVal(e.target.value)}/>\n          )}\n        />\n    </div>\n}\n\nexport default inject('d')(observer(VisCatFilters));\n","import React, {useEffect, useState} from 'react';\nimport {makeStyles, CircularProgress, Typography} from \"@material-ui/core\";\nimport {observer} from \"mobx-react\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    img: {\n        width: '100%',\n    },\n}));\n\nfunction Image({src}) {\n    const classes = useStyles();\n\n    const [state, setState] = useState('loading');\n\n    const [imgSrc, setSrc] = useState(null);\n    useEffect(() => {\n        const controller = new AbortController();\n        const {signal} = controller;\n        fetch(src, {signal})\n          .then(res => res.blob())\n          .then(img => {\n              setSrc(URL.createObjectURL(img));\n              setState('loaded');\n          })\n          .catch(e => {\n              if (e.toString() === \"AbortError: The user aborted a request.\") return;\n              setState('error');\n          });\n        return () => {\n            controller.abort();\n        }\n    }, [src]);\n\n    return <div className={classes.root}>\n        {state === 'loading' && <CircularProgress/>}\n        {state === 'loaded' && <img className={classes.img} src={imgSrc} alt={src}/>}\n        {state === 'error' && <Typography className={classes.img}>Fail to load.</Typography>}\n    </div>\n}\n\nexport default observer(Image);\n","import React, {useState} from 'react';\nimport {makeStyles, GridList, GridListTileBar, GridListTile, Typography} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport VisCatFilters from \"./VisCatFilters\";\nimport Image from \"./Image\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'absolute',\n        padding: theme.spacing(1),\n        left: `calc(20vw + ${theme.spacing(1)}px)`,\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        height: `calc(50vh - ${theme.spacing(1.5)}px)`,\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: theme.palette.background.paper,\n    },\n    gridList: {\n        position: 'absolute',\n        top: 50,\n        width: `calc(100% - ${theme.spacing(1)}px)`,\n        height: 'calc(100% - 50px)',\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n        transform: 'translateZ(0)',\n    },\n    titleBar: {\n        background:'rgba(0,0,0,0.7)',\n        // color:'transparent'\n        // background:\n        //   'linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, ' +\n        //   'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    actions: {\n        position: 'relative',\n        zIndex: 100,\n        display: 'flex',\n        width: '100%',\n        marginBottom: theme.spacing(1),\n        backgroundColor: theme.palette.background.paper,\n    },\n    filter: {\n        flex: '0 1 fit-content',\n    },\n    placeholder: {\n        flex: 1,\n    },\n    stat: {\n        display: 'flex',\n        flex: '0 0 fit-content',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    pagination: {\n        flex: '0 0 fit-content',\n    }\n}));\n\nfunction Gallery({sys, d}) {\n    const classes = useStyles();\n    const cntPerPage = 20;\n    const [page, setPage] = useState(1);\n\n    return <div className={classes.root}>\n        <div className={classes.actions}>\n            <VisCatFilters/>\n            <div className={classes.placeholder}/>\n            <div className={classes.stat}>\n                <Typography>{d.showedImages.length} images found.</Typography>\n                <Pagination\n                  className={classes.pagination}\n                  page={page}\n                  count={Math.ceil(d.showedImages.length / cntPerPage)}\n                  onChange={(e, newPage) => setPage(newPage)}/>\n            </div>\n        </div>\n        <GridList cellHeight={200} spacing={10} className={classes.gridList} cols={5}>\n            {\n                d.showedImages\n                  .slice((page - 1) * cntPerPage, page * cntPerPage)\n                  .map(img => {\n                      const {title} = d.getPaperInfo(img.pid);\n                  return <GridListTile key={`${img.pid},${img.iid}`}\n                                            cols={1} rows={1}\n                                            style={{cursor: 'pointer'}}\n                                            onClick={() => sys.showDetail(img.pid, img.iid, img.src)}>\n                      <Image src={img.src}/>\n                      <GridListTileBar\n                        title={title}\n                        titlePosition=\"top\"\n                        actionPosition=\"left\"\n                        className={classes.titleBar}\n                      />\n                  </GridListTile>})\n            }\n        </GridList>\n    </div>\n}\n\nexport default inject('d', 'sys')(observer(Gallery));\n","import React from 'react';\nimport {makeStyles} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport {ColorStyles, TextTranslate} from \"../../store/Categories\";\nimport ReactEcharts from 'echarts-for-react';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'absolute',\n        left: `calc(20vw + ${theme.spacing(1)}px)`,\n        width: `calc(40vw - ${theme.spacing(1.5)}px)`,\n        bottom: theme.spacing(1),\n        height: `calc(50vh - ${theme.spacing(1.5)}px)`,\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(1)\n    },\n}));\n\nfunction Stream({d}) {\n    const classes = useStyles();\n    const allCategories = Object.keys(ColorStyles);\n    let {min, max, categories, stream} = d.stream;\n    categories = categories.sort((a, b) => allCategories.indexOf(a) - allCategories.indexOf(b));\n    stream = stream.sort((a, b) => {\n        const ai = categories.indexOf(a[2]), bi = categories.indexOf(b[2]);\n        if (ai !== bi) return ai - bi;\n        return a[0] - b[0];\n    })\n\n    const calCat = new Set();\n    stream.forEach(d => calCat.add(d[2]));\n\n    const getOption = () => {\n        return {\n            animationDuration: 100,\n            tooltip: {\n                trigger: 'axis',\n                axisPointer: {\n                    type: 'line',\n                    lineStyle: {\n                        color: 'rgba(0,0,0,0.2)',\n                        width: 1,\n                        type: 'solid'\n                    }\n                }\n            },\n            legend: {\n                formatter: name => TextTranslate[name],\n                data: categories,\n            },\n            color: categories.map(cat => ColorStyles[cat]),\n            singleAxis: {\n                top: 50,\n                bottom: 50,\n                type: 'value',\n                min,\n                max,\n                axisPointer: {\n                    label: {\n                        show: true\n                    }\n                },\n            },\n            series: [\n                {\n                    type: 'themeRiver',\n                    emphasis: {\n                        itemStyle: {\n                            shadowBlur: 20,\n                            shadowColor: 'rgba(0, 0, 0, 0.2)'\n                        }\n                    },\n                    data: stream,\n                    label: {\n                        show: false,\n                    }\n                }\n            ]\n        }\n    }\n\n    return <div className={classes.root}>\n        <ReactEcharts style={{\n            width: '100%',\n            height: '100%',\n        }} option={getOption()}/>\n    </div>\n}\n\nexport default inject('d')(observer(Stream));\n","import React from 'react';\nimport {makeStyles} from \"@material-ui/core\";\nimport {inject, observer} from \"mobx-react\";\nimport ReactWordcloud from 'react-wordcloud';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        width: `calc(40vw - ${theme.spacing(1.5)}px)`,\n        bottom: theme.spacing(1),\n        height: `calc(50vh - ${theme.spacing(1.5)}px)`,\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(1),\n    },\n}));\n\nconst options = {\n    colors: ['#1f5886'],\n    enableTooltip: true,\n    deterministic: false,\n    fontFamily: 'impact',\n    fontSizes: [15, 60],\n    fontStyle: 'normal',\n    fontWeight: 'normal',\n    padding: 1,\n    rotations: 3,\n    rotationAngles: [0, 0],\n    scale: 'sqrt',\n    spiral: 'archimedean',\n    transitionDuration: 100,\n}\n\nfunction WordCloud({d}) {\n    const classes = useStyles();\n    const words = d.showedWords;\n\n    return <div className={classes.root}>\n        <ReactWordcloud options={options} words={words}/>\n    </div>\n}\n\nexport default inject('d')(observer(WordCloud));\n","import React from 'react';\nimport {makeStyles, ListItem, Collapse, List, ListItemText, ListItemIcon, Checkbox, IconButton} from \"@material-ui/core\";\nimport {ExpandLess, ExpandMore} from \"@material-ui/icons\";\nimport {inject, observer} from \"mobx-react\";\nimport {ColorStyles, TextTranslate} from \"../../store/Categories\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {},\n    nested: {\n        paddingLeft: theme.spacing(4),\n    },\n}));\n\nfunction VisType({visType, boxes, setVisible}) {\n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(false);\n    const checked = boxes.reduce((previousValue, currentValue) => previousValue && currentValue.visibility === \"visible\", true);\n    const indeterminate = !checked && boxes.reduce((previousValue, currentValue) => previousValue || currentValue.visibility === \"visible\", false);\n\n    const handleChangeAll = () => {\n        if (checked) setVisible(boxes.map(box => box.index));\n        else setVisible(boxes.filter(box => box.visibility !== 'visible').map(box => box.index))\n    };\n    const handleChange = idx => {\n        setVisible([idx]);\n    };\n\n    return <React.Fragment>\n        <ListItem>\n            <ListItemIcon>\n                <Checkbox\n                  edge=\"start\"\n                  checked={checked}\n                  indeterminate={indeterminate}\n                  tabIndex={-1}\n                  style={{color: ColorStyles[visType]}}\n                  onClick={handleChangeAll}\n                  disableRipple\n                />\n            </ListItemIcon>\n            <ListItemText primary={`${TextTranslate[visType]}(${boxes.length})`}/>\n            <IconButton>\n                {open ?\n                  <ExpandLess onClick={() => setOpen(false)}/> :\n                  <ExpandMore onClick={() => setOpen(true)}/>}\n            </IconButton>\n        </ListItem>\n        <Collapse in={open} timeout={'auto'} unmountOnExit>\n            <List component={'div'} disablePadding>\n                {boxes.map((box, bid) => {\n                    return <ListItem className={classes.nested}>\n                        <ListItemIcon>\n                            <Checkbox\n                              edge=\"start\"\n                              checked={box.visibility === \"visible\"}\n                              onClick={() => handleChange(box.index)}\n                              tabIndex={-1}\n                              style={{color: ColorStyles[visType]}}\n                              disableRipple\n                            />\n                        </ListItemIcon>\n                        <ListItemText primary={bid + 1}/>\n                    </ListItem>\n                })}\n            </List>\n        </Collapse>\n    </React.Fragment>\n}\n\nexport default inject()(observer(VisType));\n","import React, {useState} from 'react';\nimport {\n    makeStyles,\n    Dialog,\n    DialogContent,\n    Typography,\n    List,\n    CircularProgress,\n    Button, fade\n} from \"@material-ui/core\";\nimport {ColorStyles, TextTranslate} from \"../../store/Categories\";\nimport {inject, observer} from \"mobx-react\";\nimport VisType from \"./VisType\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {},\n    titlebar: {\n        display: \"flex\",\n        maxWidth: '50vw',\n        justifyContent: 'space-between',\n    },\n    row: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: 'center',\n        alignItems: \"center\",\n        width: \"50vw\",\n    },\n    imgView: {\n        position: \"relative\",\n        flex: 1,\n        margin: theme.spacing(2, 0),\n    },\n    img: {\n        position: \"relative\",\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n    },\n    recs: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        overflow: 'hidden',\n    },\n    rec: {\n        position: \"absolute\",\n    },\n    label: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        padding: theme.spacing(0.5),\n        backgroundColor: 'rgba(0, 0, 0, 0.3)',\n        color: '#ffffff'\n    },\n    details: {\n        position: \"relative\",\n        width: \"15vw\",\n        overflow: \"scroll\"\n    },\n    caption: {\n        maxWidth: '50vw',\n    }\n}));\n\nfunction DetailView({d, sys}) {\n    const classes = useStyles();\n    const boxes = d.boxes;\n    const {title, url} = d.getPaperInfo(sys.detailedImg[0]);\n    const {caption} = d.getImageInfo(sys.detailedImg[0], sys.detailedImg[1]);\n\n    const [state, setState] = useState({\n        dimensions: {\n            height: 1,\n            width: 1,\n        },\n        imgSize: [0, 0],\n    })\n\n    const onImgLoad = ({target: img}) => {\n        const maxWidth = window.innerWidth * 0.35,\n          maxHeight = window.innerHeight * 0.5;\n        const scale = Math.min(maxHeight / img.naturalHeight, maxWidth / img.naturalWidth);\n        setState({\n            dimensions: {\n                height: img.naturalHeight,\n                width: img.naturalWidth,\n            },\n            imgSize: [scale * img.naturalWidth, scale * img.naturalHeight],\n        });\n    }\n\n    const handleChange = indexes => {\n        indexes.forEach(index => {\n            const {visibility} = boxes[index];\n            boxes[index].visibility = visibility === \"visible\" ? \"hidden\" : \"visible\";\n        });\n    };\n\n    const categories = {};\n    if (boxes !== null)\n        boxes.forEach((box, index) => {\n            if (!categories.hasOwnProperty(box.visType)) categories[box.visType] = [];\n            categories[box.visType].push({index, ...box});\n        });\n\n    return <Dialog open={sys.detailView} onClose={sys.closeDetail} maxWidth={false}>\n        <DialogContent>\n            {boxes === null ?\n              <CircularProgress/> :\n              <div className={classes.root}>\n                  <div className={classes.titlebar}>\n                      <Typography variant={'h5'}>\n                          {title}\n                      </Typography>\n                      <Button href={url} variant={\"contained\"}>Paper</Button>\n                  </div>\n                  <div className={classes.row}>\n                      <div className={classes.imgView}\n                           style={{width: state.imgSize[0], height: state.imgSize[1]}}>\n                          <img className={classes.img}\n                               src={sys.detailedImg[2]} alt={sys.detailedImg[2]}\n                               onLoad={onImgLoad}\n                               style={{width: state.imgSize[0], height: state.imgSize[1]}}/>\n                          <div className={classes.recs}\n                               style={{width: state.imgSize[0], height: state.imgSize[1]}}>\n                              {boxes.map((value, index) => {\n                                  return <div key={index}\n                                              className={classes.rec}\n                                              style={\n                                                  {\n                                                      left: `${100 * value.box[0] / state.dimensions.width}%`,\n                                                      top: `${100 * value.box[1] / state.dimensions.height}%`,\n                                                      width: `${100 * (value.box[2] - value.box[0]) / state.dimensions.width}%`,\n                                                      height: `${100 * (value.box[3] - value.box[1]) / state.dimensions.height}%`,\n                                                      backgroundColor: fade(ColorStyles[value.visType], 0.3),\n                                                      visibility: value.visibility,\n                                                  }}>\n                                      <div className={classes.label}>{TextTranslate[value.visType]}</div>\n                                  </div>\n                              })}\n                          </div>\n                      </div>\n                      <div className={classes.details} style={{height: state.imgSize[1]}}>\n                          <List disablePadding>\n                              {Object.keys(categories)\n                                .sort((a, b) => categories[b].length - categories[a].length)\n                                .map(visType => {\n                                    return <VisType key={visType}\n                                                    visType={visType} boxes={categories[visType]}\n                                                    setVisible={handleChange}/>\n                                })}\n                          </List>\n                      </div>\n                  </div>\n\n                  <Typography className={classes.caption}>{caption}</Typography>\n              </div>}\n        </DialogContent>\n    </Dialog>\n}\n\nexport default inject('d', 'sys')(observer(DetailView));\n","import React from 'react';\nimport {makeStyles, CssBaseline} from \"@material-ui/core\";\nimport AppBar from \"./AppBar/AppBar\";\nimport ControlPanel from \"./ControlPanel/ControlPanel\";\nimport Gallery from \"./Gallery/Gallery\";\nimport Stream from \"./Stream/Stream\";\nimport WordCloud from \"./WordCloud/WordCloud\";\nimport DetailView from \"./DetailView/DetailView\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100vw',\n        height: '100vh',\n        overflow: 'hidden',\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nexport default function App() {\n    const classes = useStyles();\n\n    return <div className={classes.root}>\n        <CssBaseline/>\n        <div>\n            <AppBar/>\n            <ControlPanel/>\n            <Gallery/>\n            <Stream/>\n            <WordCloud/>\n            <DetailView/>\n        </div>\n    </div>;\n}\n","import {action, computed, observable} from \"mobx\";\nimport {createMuiTheme, darken, fade, lighten} from \"@material-ui/core\";\n\nclass SystemStatus {\n    constructor(root) {\n        this.root = root;\n    }\n\n    init() {\n    }\n\n    scrollbar = '#888b8b';\n    @observable.shallow themeOption = {\n        spacing: 10,\n        palette: {\n            primary: {main: '#dadbdc'},\n            secondary: {main: '#1f5886'}\n        },\n        overrides: {\n            MuiCssBaseline: {\n                '@global': {\n                    '*::-webkit-scrollbar': {\n                        width: 10,\n                    },\n                    '*::-webkit-scrollbar-track': {\n                        display: 'none',\n                    },\n                    '*::-webkit-scrollbar-corner': {\n                        display: 'none',\n                    },\n                    '*::-webkit-scrollbar-thumb': {\n                        backgroundColor: fade(this.scrollbar, 0.1),\n                        borderRadius: 10,\n                    },\n                    '*:hover::-webkit-scrollbar-thumb': {\n                        backgroundColor: lighten(this.scrollbar, 0.2),\n                    },\n                    '*::-webkit-scrollbar-thumb:hover': {\n                        backgroundColor: this.scrollbar,\n                    },\n                    '*::-webkit-scrollbar-thumb:active': {\n                        backgroundColor: darken(this.scrollbar, 0.2),\n                    }\n                }\n            }\n        }\n    }\n\n    @computed get theme() {\n        return createMuiTheme(this.themeOption);\n    }\n\n    @observable detailView = false;\n    detailedImg = [-1, -1, ''];\n    @action showDetail = (pid, iid, url) => {\n        this.detailView = true;\n        if (this.detailedImg[0] !== pid || this.detailedImg[1] !== iid) {\n            this.detailedImg = [pid, iid, url];\n            this.root.d.updateBBoxes(null);\n            this.root.apiV1.getBBox(pid, iid, res => {\n                this.root.d.updateBBoxes(res.bboxes);\n            })\n        }\n    }\n    @action closeDetail = () => {\n        this.detailView = false;\n    }\n}\n\nexport default SystemStatus;\n","import {action, computed, observable} from \"mobx\";\n\nclass Data {\n    constructor(root) {\n        this.root = root;\n    }\n\n    init() {\n        this.initPapers(() => {\n            this.initImages();\n        });\n    }\n\n    @observable.shallow papers = [];\n    @action updatePapers = papers => {\n        this.papers = papers;\n    }\n    initPapers = (cb = null) => {\n        this.root.apiV1.getPapers({}, res => {\n            this.updatePapers(res);\n            this.extractFilters();\n            if (cb instanceof Function) cb();\n        });\n    }\n    getPaperInfo = pid => {\n        for (const paper of this.papers)\n            if (paper.pid === pid) return paper;\n        return {};\n    }\n\n    @computed get filteredPapers() {\n        return this.papers.filter(p => {\n            if (this.filterConferences.length > 0 && !this.filterConferences.includes(p.conference)) return false;\n            if (this.filterYears.length > 0 && (p.year < this.filterYears[0] || p.year > this.filterYears[1])) return false;\n            if (this.filterAuthors.length > 0) {\n                let flag = false;\n                for (let author of p.authors)\n                    if (this.filterAuthors.includes(author)) {\n                        flag = true;\n                        break;\n                    }\n                if (!flag) return false;\n            }\n            return true;\n        })\n    }\n\n    @observable.shallow allConferences = [];\n    @observable.shallow allAuthors = [];\n    @observable.shallow allYears = [];\n    @observable.shallow yearCount = {};\n    paperYear = {};\n    extractFilters = (certainPapers = null) => {\n        const papers = certainPapers || this.papers;\n\n        const allConferences = new Set();\n        const allAuthors = new Set();\n        const allYears = new Set();\n        const yearCount = {};\n        papers.forEach(p => {\n            allConferences.add(p.conference);\n            for (const aut of p.authors) allAuthors.add(aut);\n            allYears.add(p.year);\n            if (!yearCount[p.year])\n                yearCount[p.year] = {\n                    papers: 0,\n                    images: 0,\n                }\n            yearCount[p.year].papers += 1;\n            this.paperYear[p.pid] = p.year;\n        });\n        this.allConferences = [...allConferences];\n        this.allAuthors = [...allAuthors].sort();\n        this.allYears = [...allYears].sort();\n        this.yearCount = yearCount;\n    }\n\n    search = [];\n    @observable.shallow filterConferences = [];\n    @observable.shallow filterAuthors = [];\n    @observable.shallow filterYears = [];\n    @action updateFilter = (key, value) => {\n        if (key === 'search')\n            this.root.apiV1.getPapers({\n                search: value.split(' '),\n            }, res => {\n                this.updatePapers(res);\n                this.initImages();\n                this.extractFilters();\n            })\n        else {\n            this[`filter${key}`] = value;\n            this.updateWords();\n        }\n    }\n\n    @observable.shallow images = [];\n    initImages = () => {\n        const papers = this.papers;\n        const pids = papers.map(p => p.pid);\n        this.root.apiV1.getImages(pids, res => {\n            this.images = res.map(img => ({captionStat: img.word_count === null ? {} : img.word_count, word_count: undefined, ...img}));\n            this.updateImageCounts();\n            // this.updateImageCaptionStat();\n            this.updateWords();\n        });\n    }\n    @action updateImageCounts = () => {\n        const yearCount = this.yearCount;\n        this.images.forEach(img => {\n            const year = this.paperYear[img.pid];\n            yearCount[year].images += 1;\n        })\n        this.yearCount = JSON.parse(JSON.stringify(yearCount));\n    };\n    getImageInfo = (pid, iid) => {\n        for (const image of this.images)\n            if (image.pid === pid && image.iid === iid) return image;\n        return {};\n    }\n\n    @observable.shallow allCategories = [\n        'line_chart',\n        'scatterplot',\n        'tree',\n        'heatmap',\n        'treemap',\n        'graph',\n        'map',\n        'bar_chart',\n        'small_multiple',\n        'matrix',\n        'flow_diagram',\n        'table',\n        'sunburst_icicle',\n        'parallel_coordinate',\n        'box_plot',\n        'error_bar',\n        'glyph_based',\n        'area_chart',\n        'pie_chart',\n        'sector_chart',\n        'word_cloud',\n        'proportional_area_chart',\n        'unit_visualization',\n        'donut_chart',\n        'sankey_diagram',\n        'hierarchical_edge_bundling',\n        'chord_diagram',\n        'stripe_graph',\n        'polar_plot',\n        'storyline',\n        'NoVis'\n    ];\n    @observable.shallow filterCategories = [\n        'line_chart',\n        'scatterplot',\n        'tree',\n        'heatmap',\n        'treemap',\n        'graph',\n        'map',\n        'bar_chart',\n        'small_multiple',\n        'matrix',\n        'flow_diagram',\n        'table',\n        'sunburst_icicle',\n        'parallel_coordinate',\n        'box_plot',\n        'error_bar',\n        'glyph_based',\n        'area_chart',\n        'pie_chart',\n        'sector_chart',\n        'word_cloud',\n        'proportional_area_chart',\n        'unit_visualization',\n        'donut_chart',\n        'sankey_diagram',\n        'hierarchical_edge_bundling',\n        'chord_diagram',\n        'stripe_graph',\n        'polar_plot',\n        'storyline',\n        'NoVis'\n    ];\n    @action updateFilterCategories = filters => {\n        this.filterCategories = filters;\n        this.updateWords();\n    }\n\n    @computed get bars() {\n        if (this.allYears.length === 0) return [];\n        const minYear = this.allYears[0];\n        const maxYear = this.allYears[this.allYears.length - 1];\n        return [...new Array(maxYear - minYear + 1)].map((_, i) => {\n            const year = minYear + i;\n            if (!this.yearCount[year]) return {\n                year,\n                papers: 0,\n                images: 0,\n            }\n            return {\n                year,\n                papers: this.yearCount[year].papers,\n                images: this.yearCount[year].images,\n            }\n        })\n    }\n\n    @computed get showedImages() {\n        const pids = this.filteredPapers.map(p => p.pid);\n        return this.images\n          .filter(img => {\n              if (!pids.includes(img.pid)) return false;\n              let isFiltered = false;\n              for (const cat of img.categories)\n                  if (this.filterCategories.includes(cat)) {\n                      isFiltered = true;\n                      break;\n                  }\n              if (!isFiltered) return false;\n              return true;\n          });\n    }\n\n    @computed get stream() {\n        let min = 9999, max = 0;\n        const categories = new Set();\n        const stream = {};\n\n        this.showedImages.forEach(img => {\n            const year = this.paperYear[img.pid];\n            min = Math.min(min, year);\n            max = Math.max(max, year);\n\n            img.categories.forEach(cat => {\n                categories.add(cat);\n                const key = `${year},${cat}`;\n                if (!stream.hasOwnProperty(key)) stream[key] = 1;\n                else stream[key] += 1;\n            });\n        });\n\n        for (let i = min; i <= max; i++)\n            for (const cat of [...categories])\n                if (!Object.keys(stream).includes(`${i},${cat}`))\n                    stream[`${i},${cat}`] = 0;\n\n        return {\n            min,\n            max,\n            categories: [...categories],\n            stream: Object.keys(stream).map(key => {\n                const [year, type] = key.split(',');\n                const count = stream[key];\n                return [year, count, type];\n            })\n        };\n    }\n\n    @observable.shallow showedWords = [];\n\n    @action updateWords() {\n        const wordFrequencies = {};\n        this.showedImages.forEach(img => {\n            Object.keys(img.captionStat).forEach(word => {\n                if (wordFrequencies.hasOwnProperty(word)) wordFrequencies[word] += img.captionStat[word];\n                else wordFrequencies[word] = img.captionStat[word];\n            });\n        });\n        this.showedWords = Object.keys(wordFrequencies).map(word => ({\n            text: word,\n            value: wordFrequencies[word],\n        }));\n    }\n\n    @observable boxes = null;\n    @action updateBBoxes = boxes => this.boxes = boxes;\n}\n\nexport default Data;\n","// const url = uri => `http://3.16.54.204:4000/v1${uri}`;//remote version\nconst url = uri => `https://visimages.zjuidg.org/v1${uri}`;  //local version\n\nclass APIv1 {\n    getPapers = (params = {}, cb = null) => {\n        const args = [];\n        ['search', 'conference', 'authors', 'year'].forEach(key => {\n            if (!!params[key]) args.push(`s=${params[key].join(',')}`);\n        })\n        const req = new Request(url(`/papers${args.length > 0 ? `?${args.join('&')}` : ''}`));\n        this.fetch(req, cb);\n    }\n\n    getImages = (pids = [], cb = null) => {\n        const req = new Request(url('/images/collection'), {\n            method: 'POST',\n            body: JSON.stringify(pids),\n        })\n        this.fetch(req, cb)\n    }\n\n    getBBox = (pid, iid, cb = null) => {\n        const req = new Request(url(`/bbox/${pid}/${iid}`));\n        this.fetch(req, cb);\n    }\n\n    fetch = (req, cb) => {\n        fetch(req)\n          .then(res => res.json())\n          .then(res => {\n              if (cb instanceof Function) cb(res);\n          })\n          .catch(e => console.error(e));\n    }\n}\n\nexport default APIv1;\n","import SystemStatus from \"./SystemStatus\";\nimport Data from \"./Data\";\nimport APIv1 from './APIv1';\n\nclass Store {\n    // visImages = new VisImages(this);\n    sys = new SystemStatus(this);\n    d = new Data(this);\n    apiV1 = new APIv1();\n\n    constructor() {\n        this.sys.init();\n        this.d.init();\n    }\n}\n\nconst store = new Store();\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './component/App';\nimport store from './store';\nimport {Provider} from 'mobx-react'\nimport {MuiThemeProvider} from \"@material-ui/core\";\n\n\nReactDOM.render(<Provider visImages={store.visImages} sys={store.sys} d={store.d}>\n    <MuiThemeProvider theme={store.sys.theme}>\n        <App/>\n    </MuiThemeProvider>\n</Provider>, document.querySelector('#root'));\n"],"sourceRoot":""}